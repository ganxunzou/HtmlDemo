<!DOCTYPE html>

<html>

	<head>

		<meta charset="utf-8" />

		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			
			.main {
				width: 500px;
				height: 500px;
				background: gray;
				position: relative;
			}
			
			.one {
				width: 100px;
				height: 100px;
				background: blue;
				position: absolute;
			}
			
			.two {
				width: 100px;
				height: 100px;
				background: red;
				left: 20px;
				position: absolute;
			}
		</style>

	</head>

	<script type="text/javascript">
		var cX;

		var cY;
		
		var index = 0;
		
		function dragstart(e) {

			cX = e.offsetX;

			cY = e.offsetY;

			e.dataTransfer.setData("text", e.target.id);

			e.dataTransfer.effectAllowed = "move";

		}

		function drop(e) {

			e.preventDefault();

			index++;

			var data = e.dataTransfer.getData("text");

			document.getElementById(data).style.left = (e.pageX - cX) + "px";

			document.getElementById(data).style.top = (e.pageY - cY) + "px";

			document.getElementById(data).style.zIndex = index;

			console.log(e.pageX, e.offsetX, e.screenX, e.clientX, index);

		}

		function allowDrop(e)

		{

			e.preventDefault();

			e.dataTransfer.dropEffect = "move";
			
			console.log(window)

		}
		
		function aaClick(e){
			console.log(e)
		}
	</script>

	<body>

		<div class="main" onclick="aaClick(event)" ondrop="drop(event)" ondragover="allowDrop(event)" >

			<div id="a1" class="one d" draggable="true" ondragstart="dragstart(event)">

			</div>

			<div id="a2" class="two d" ondragstart="dragstart(event)" draggable="true"></div>

		</div>

	</body>

</html>